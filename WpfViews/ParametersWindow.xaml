<Window x:Class="JaMoApp.WpfViews.ParametersWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Geometric Parameter Assignment"
        Height="550"
        Width="600"
        Background="#2D2D30"
        Foreground="White"
        WindowStartupLocation="CenterScreen">

  <Window.Resources>
    <BooleanToVisibilityConverter x:Key="BoolToVisibility" />
  </Window.Resources>

  <Grid Margin="15">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <!-- Shared file -->
      <RowDefinition Height="Auto" />
      <!-- Group filter -->
      <RowDefinition Height="Auto" />
      <!-- Parameter filter -->
      <RowDefinition Height="Auto" />
      <!-- Run button -->
      <RowDefinition Height="Auto" />
      <!-- Number input -->
      <RowDefinition Height="Auto" />
      <!-- Yes/No input -->
      <RowDefinition Height="Auto" />
      <!-- Text input -->
      <RowDefinition Height="Auto" />
      <!-- Spacer -->
      <RowDefinition Height="*" />
      <!-- Multi-line input -->
      <RowDefinition Height="Auto" />
      <!-- Status -->
    </Grid.RowDefinitions>

    <!-- Shared Parameter File -->
    <StackPanel Grid.Row="0"
                Orientation="Horizontal"
                Margin="0,0,0,15">
      <TextBlock Text="Shared Parameter File:"
                 VerticalAlignment="Center"
                 Margin="0,0,10,0" />
      <TextBox    Text="{Binding FilePath, UpdateSourceTrigger=PropertyChanged}"
                  Width="300"
                  Margin="0,0,10,0" />
      <Button     Content="Browse…"
                  Command="{Binding BrowseFileCommand}"
                  Width="90"
                  BorderBrush="#FF272BE9"
                  Background="#FF0074CC"
                  Foreground="#FFF6F4F4" />
    </StackPanel>

    <!-- Group Filter -->
    <StackPanel Grid.Row="1"
                Orientation="Horizontal"
                Margin="0,0,0,15">
      <TextBlock Text="Filter Groups:"
                 VerticalAlignment="Center"
                 Margin="0,0,10,0" />
      <ComboBox  ItemsSource="{Binding Groups}"
                 SelectedItem="{Binding SelectedGroup}"
                 Width="200" />
    </StackPanel>

    <!-- Parameter Filter -->
    <StackPanel Grid.Row="2"
                Orientation="Vertical"
                Margin="0,0,0,15">
      <TextBlock Text="Filter Parameters:"
                 Margin="0,0,0,8" />
      <TextBox    Text="{Binding FilterText, UpdateSourceTrigger=PropertyChanged}" />
      <ComboBox  ItemsSource="{Binding Parameters}"
                 SelectedItem="{Binding SelectedParam}"
                 DisplayMemberPath="Name"
                 Margin="0,8,0,0" />
    </StackPanel>

    <!-- Run Button -->
    <StackPanel Grid.Row="3"
                Orientation="Horizontal"
                HorizontalAlignment="Right"
                Margin="0,0,0,15">
      <Button Content="Run"
              Command="{Binding RunCommand}"
              Width="100"
              Height="32"
              Background="#FF1667E0"
              Foreground="#FFDCD6D6" />
    </StackPanel>

    <!-- Number Input -->
    <StackPanel Grid.Row="4"
                Orientation="Vertical"
                Margin="0,10,0,15"
                Visibility="{Binding IsNumberMode, Converter={StaticResource BoolToVisibility}}">
      <TextBlock Text="Enter a numeric value:"
                 Margin="0,0,0,5" />
      <TextBox    Text="{Binding InputNumber}"
                  Height="30" />
      <Button     Content="Set Number"
                  Command="{Binding CommitNumberCommand}"
                  Margin="0,5,0,0"
                  Width="100"
                  HorizontalAlignment="Right"
                  Background="#FF007ACC"
                  Foreground="#FFF6F4F4" />
    </StackPanel>

    <!-- Yes/No Input -->
    <StackPanel Grid.Row="5"
                Orientation="Vertical"
                Margin="0,10,0,15"
                Visibility="{Binding IsYesNoMode, Converter={StaticResource BoolToVisibility}}">
      <TextBlock Text="Select Yes or No:"
                 Margin="0,0,0,5" />
      <CheckBox  IsChecked="{Binding InputYesNo}"
                 Content="Yes" />
      <Button     Content="Set Yes/No"
                  Command="{Binding CommitYesNoCommand}"
                  Margin="0,5,0,0"
                  Width="100"
                  HorizontalAlignment="Right"
                  Background="#FF007ACC"
                  Foreground="#FFF6F4F4" />
    </StackPanel>

    <!-- Single-Line Text Input -->
    <StackPanel Grid.Row="6"
                Orientation="Vertical"
                Margin="0,10,0,15"
                Visibility="{Binding IsTextMode, Converter={StaticResource BoolToVisibility}}">
      <TextBlock Text="Enter text:"
                 Margin="0,0,0,5" />
      <TextBox    Text="{Binding InputText}"
                  AcceptsReturn="True"
                  TextWrapping="Wrap"
                  Height="100" />
      <Button     Content="Set Text"
                  Command="{Binding CommitTextCommand}"
                  Margin="0,5,0,0"
                  Width="100"
                  HorizontalAlignment="Right" />
    </StackPanel>

    <!-- Multi-Line Text Input (bottom) -->
    <Grid Grid.Row="8"
          Visibility="{Binding IsMultiTextMode, Converter={StaticResource BoolToVisibility}}"
          Margin="0,10,0,10">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>

      <StackPanel Grid.Column="0"
                  Orientation="Vertical">
        <TextBlock Text="Append to Multi-Line Text:"
                   Margin="0,0,0,5"
                   Foreground="#CCCCCC" />
        <TextBox    Text="{Binding InputText, UpdateSourceTrigger=PropertyChanged}"
                    AcceptsReturn="True"
                    TextWrapping="Wrap"
                    VerticalScrollBarVisibility="Auto"
                    MinHeight="120" />
      </StackPanel>

      <Button Grid.Column="1"
              Content="Append"
              Command="{Binding CommitMultiTextCommand}"
              Margin="10,0,0,0"
              Width="100"
              VerticalAlignment="Bottom" />
    </Grid>

    <!-- Status Message -->
    <TextBlock Grid.Row="9"
               Text="{Binding StatusMessage}"
               Foreground="#A0A0A0"
               FontStyle="Italic"
               Margin="0,10,0,0" />
  </Grid>
</Window>
